(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{zMu1:function(t,n,e){"use strict";e.r(n),e.d(n,"RunningAppsApp",function(){return U}),e.d(n,"RunningAppsModule",function(){return M});var c=e("PCNd"),i=e("fXoL"),s=e("YLzM"),o=e("D8zh"),r=e("ofXK");const a=function(t){return{bottom:t}};function l(t,n){if(1&t&&(i.Vb(0,"div",3),i.Qb(1,"div",4),i.Ub()),2&t){const t=n.$implicit;i.kc("ngStyle",t.style),i.Cb(1),i.kc("ngStyle",i.mc(2,a,t.yValue))}}const g=function(t,n,e){return{"justify-start":t,"justify-center":n,"justify-end":e}};function b(t,n){if(1&t&&(i.Vb(0,"div",1),i.xc(1,l,2,4,"div",2),i.Ub()),2&t){const t=i.ec();i.kc("ngClass",i.oc(2,g,"start"==t.config.blockConfig.align,"center"==t.config.blockConfig.align,"end"==t.config.blockConfig.align)),i.Cb(1),i.kc("ngForOf",t.processedData)}}let f=(()=>{class t{constructor(){}ngOnInit(){}ngOnChanges(){this.processData(),this.setMaxYValue()}refresh(){this.setMaxYValue(),this.processData()}setMaxYValue(){if(this.config.blockConfig.maxYValue)return;let t=0;this.config.data.map(n=>{n.yValue>t&&(t=n.yValue)}),this.maxYValue=t}processData(){const t=this.config.blockConfig.maxYValue||this.maxYValue;let n=[];this.config.data.map(e=>{let c={height:100*e.yValue/t+"%"};n.push(Object.assign(Object.assign({},e),{style:c}))}),this.processedData=n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["e-chart-block"]],inputs:{config:"config"},features:[i.Ab],decls:1,vars:1,consts:[["class","e-chart-block full-parent flex-row align-end",3,"ngClass",4,"ngIf"],[1,"e-chart-block","full-parent","flex-row","align-end",3,"ngClass"],["class","data-item flex-column align-center",3,"ngStyle",4,"ngFor","ngForOf"],[1,"data-item","flex-column","align-center",3,"ngStyle"],[1,"dot",3,"ngStyle"]],template:function(t,n){1&t&&i.xc(0,b,2,6,"div",0),2&t&&i.kc("ngIf",n.processedData)},directives:[r.j,r.h,r.i,r.k],styles:[".e-chart-block[_ngcontent-%COMP%]{border:1px solid #0052cc;background-image:linear-gradient(90deg,#0052cc29 1px,#0000 0),linear-gradient(0,#0052cc29 1px,#0000 0);background-size:50px 50px,14px 14px;overflow:hidden}.e-chart-block.justify-center[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{flex:1}.e-chart-block[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{width:10px;flex-shrink:0;border-top:1px solid #0052cc;position:relative;background-color:#0052cc33}.e-chart-block[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]:first-child{border-left:1px solid #0052cc}"]}),t})();function u(t,n){if(1&t&&i.Qb(0,"e-chart-block",4,5),2&t){const t=i.ec(2);i.kc("config",t.config)}}const p=function(t,n){return{width:t,height:n}};function h(t,n){if(1&t&&(i.Vb(0,"div",1,2),i.xc(2,u,2,1,"e-chart-block",3),i.Ub()),2&t){const t=i.ec();i.kc("ngSwitch",t.config.widget)("ngStyle",i.nc(3,p,t.config.width,t.config.height)),i.Cb(2),i.kc("ngSwitchCase","block")}}let d=(()=>{class t{constructor(){this.defaultConfig={width:"100%",height:"300px",widget:"block",blockConfig:{align:"center"},data:[]}}ngOnInit(){}ngOnChanges(){this.processConfig()}refresh(){this.processConfig()}processConfig(){this.config&&(this.config=Object.assign(Object.assign({},this.defaultConfig),this.config)),this.eChartChildren&&this.eChartChildren._results.map(t=>{t.refresh()})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["e-chart"]],viewQuery:function(t,n){if(1&t&&i.Cc(f,1),2&t){let t;i.pc(t=i.dc())&&(n.eChartChildren=t)}},inputs:{config:"config"},features:[i.Ab],decls:1,vars:1,consts:[["class","e-chart",3,"ngSwitch","ngStyle",4,"ngIf"],[1,"e-chart",3,"ngSwitch","ngStyle"],["eChart",""],[3,"config",4,"ngSwitchCase"],[3,"config"],["eChartLine",""]],template:function(t,n){1&t&&i.xc(0,h,3,6,"div",0),2&t&&i.kc("ngIf",n.config)},directives:[r.j,r.l,r.k,r.m,f],styles:[""]}),t})();var m=e("iwKZ"),C=e("AO/J"),k=e("7NfB");let y=(()=>{class t{constructor(){this.text="\u6682\u65e0\u6570\u636e"}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=i.Jb({type:t,selectors:[["e-empty"]],inputs:{text:"text"},decls:4,vars:1,consts:[[1,"e-empty","full-parent","flex-column","align-center","justify-center"],["e-icon","","icon","accessible_forward","size","large",1,"mb-sm"]],template:function(t,n){1&t&&(i.Vb(0,"div",0),i.Qb(1,"i",1),i.Vb(2,"div"),i.zc(3),i.Ub(),i.Ub()),2&t&&(i.Cb(3),i.Ac(n.text))},directives:[k.a],styles:[".e-empty[_ngcontent-%COMP%]{opacity:.5}.e-empty[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px}"]}),t})();var x=e("Pt4E");const v=["eChart"];function V(t,n){if(1&t){const t=i.Wb();i.Vb(0,"button",11),i.cc("click",function(){return i.sc(t),i.ec().EAS.closeApp()}),i.zc(1,"\u5168\u90e8\u5173\u95ed"),i.Ub()}}function A(t,n){1&t&&i.Qb(0,"e-empty",12)}function w(t,n){if(1&t){const t=i.Wb();i.Vb(0,"div",13),i.Qb(1,"e-image",14),i.Vb(2,"div",15),i.zc(3),i.Ub(),i.Vb(4,"button",16),i.cc("click",function(){i.sc(t);const e=n.$implicit;return i.ec().EAS.closeApp(e.id)}),i.zc(5,"\u5173\u95ed"),i.Ub(),i.Ub()}if(2&t){const t=n.$implicit;i.Cb(1),i.kc("src",t.icon),i.Cb(2),i.Ac(t.name)}}function O(t,n){if(1&t){const t=i.Wb();i.Vb(0,"div",13),i.Qb(1,"e-image",14),i.Vb(2,"div",15),i.zc(3),i.Ub(),i.Vb(4,"button",16),i.cc("click",function(){i.sc(t);const e=n.$implicit;return i.ec(2).EAS.launch(e.id)}),i.zc(5,"\u8fd0\u884c"),i.Ub(),i.Ub()}if(2&t){const t=n.$implicit;i.Cb(1),i.kc("src",t.icon),i.Cb(2),i.Ac(t.name)}}function S(t,n){if(1&t&&(i.Tb(0),i.Qb(1,"e-divider"),i.Vb(2,"div",17),i.Vb(3,"div",2),i.Vb(4,"b",3),i.Vb(5,"h2"),i.zc(6,"\u672a\u8fd0\u884c"),i.Ub(),i.Ub(),i.Ub(),i.xc(7,O,6,2,"div",9),i.Ub(),i.Sb()),2&t){const t=i.ec();i.Cb(7),i.kc("ngForOf",t.closedApps)}}let U=(()=>{class t{constructor(t){this.EAS=t,this.menu=[{name:"\u8fdb\u7a0b\u7ba1\u7406",children:[{name:"\u6700\u5c0f\u5316\u6240\u6709App",click:()=>{this.EAS.viewDesktop()}},{name:"\u5173\u95ed\u6240\u6709App",click:()=>{this.EAS.closeApp()}}]}],this.memoryChart={widget:"block",height:"112px",blockConfig:{align:"end"},data:[]},this.EAS.setAppActionBarMenu("runningApps",this.menu)}get runningApps(){return this.EAS.appsInArray.filter(t=>"closed"!=t.status&&"runningApps"!=t.id)}get closedApps(){return this.EAS.appsInArray.filter(t=>"closed"==t.status)}ngOnInit(){this.memoryRefreshInterval=setInterval(()=>{const{usedJSHeapSize:t,totalJSHeapSize:n}=window.performance.memory;this.memoryChart.blockConfig.maxYValue=this.bitToMege(n),this.memoryChart.data.push({xLabel:"",yValue:this.bitToMege(t)}),this.eChart.refresh()},1e3)}ngOnDestroy(){this.memoryRefreshInterval&&(clearInterval(this.memoryRefreshInterval),this.memoryRefreshInterval=null)}bitToMege(t){return t?Number((t/1e6).toFixed(4)):0}}return t.\u0275fac=function(n){return new(n||t)(i.Pb(s.a))},t.\u0275cmp=i.Jb({type:t,selectors:[["ng-component"]],viewQuery:function(t,n){if(1&t&&i.Cc(v,1),2&t){let t;i.pc(t=i.dc())&&(n.eChart=t.first)}},decls:19,vars:5,consts:[[1,"running-apps","p-md"],[1,"memory-block","mb-lg"],[1,"title-block","flex-row","justify-between"],[1,"title","mb-md"],[3,"config"],["eChart",""],[1,"running-block","mb-lg"],["size","small","e-button","",3,"click",4,"ngIf"],["text","\u65e0\u6b63\u5728\u8fd0\u884c\u7684App",4,"ngIf"],["class","running-item flex-row align-center mb-md",4,"ngFor","ngForOf"],[4,"ngIf"],["size","small","e-button","",3,"click"],["text","\u65e0\u6b63\u5728\u8fd0\u884c\u7684App"],[1,"running-item","flex-row","align-center","mb-md"],["border","","size","small","shape","square",1,"icon","mr-md",3,"src"],[1,"name"],["size","small","e-button","",1,"button",3,"click"],[1,"closed-block"]],template:function(t,n){1&t&&(i.Vb(0,"e-app"),i.Vb(1,"div",0),i.Vb(2,"div",1),i.Vb(3,"div",2),i.Vb(4,"b",3),i.Vb(5,"h2"),i.zc(6,"\u8d44\u6e90\u5360\u7528\u60c5\u51b5"),i.Ub(),i.Ub(),i.Ub(),i.Qb(7,"e-chart",4,5),i.Ub(),i.Qb(9,"e-divider"),i.Vb(10,"div",6),i.Vb(11,"div",2),i.Vb(12,"b",3),i.Vb(13,"h2"),i.zc(14,"\u6b63\u5728\u8fd0\u884c"),i.Ub(),i.Ub(),i.xc(15,V,2,0,"button",7),i.Ub(),i.xc(16,A,1,0,"e-empty",8),i.xc(17,w,6,2,"div",9),i.Ub(),i.xc(18,S,8,1,"ng-container",10),i.Ub(),i.Ub()),2&t&&(i.Cb(7),i.kc("config",n.memoryChart),i.Cb(8),i.kc("ngIf",n.runningApps.length),i.Cb(1),i.kc("ngIf",!n.runningApps.length),i.Cb(1),i.kc("ngForOf",n.runningApps),i.Cb(1),i.kc("ngIf",n.closedApps.length))},directives:[o.a,d,m.a,r.j,r.i,C.a,y,x.a],styles:[".running-apps[_ngcontent-%COMP%]   .running-item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:auto}"]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({imports:[[c.a]]}),t})()}}]);