(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{VuEA:function(t,n,e){"use strict";e.r(n),e.d(n,"CalculatorApp",function(){return M}),e.d(n,"CalculatorModule",function(){return m});var c=e("PCNd"),o=e("nd0x"),l=e("fXoL"),i=e("YLzM"),r=e("xLnw"),a=e("4n3s"),u=e("D8zh"),s=e("ofXK"),b=e("7NfB");const p=function(t){return{"confirm-ac":t}};function g(t,n){if(1&t){const t=l.Wb();l.Vb(0,"div"),l.Vb(1,"div",10),l.cc("click",function(){return l.sc(t),l.ec(2).allClear(!0)}),l.Ac(2),l.Ub(),l.Vb(3,"div",11),l.cc("click",function(){return l.sc(t),l.ec(2).clear()}),l.Ac(4,"C"),l.Ub(),l.Ub()}if(2&t){const t=l.ec().$implicit,n=l.ec();l.Gb("button sub-button-block flex-column justify-center button-type-",t.type," button-",t.value,""),l.Cb(1),l.kc("ngClass",l.mc(6,p,n.confirmAC)),l.Cb(1),l.Bc(n.confirmAC?"\u6e05\u7a7a?":"AC")}}function h(t,n){if(1&t&&(l.Vb(0,"div",15),l.Ac(1),l.Ub()),2&t){const t=l.ec(2).$implicit;l.Cb(1),l.Bc(t.label)}}function C(t,n){if(1&t&&l.Qb(0,"i",16),2&t){const t=l.ec(2).$implicit;l.kc("icon",t.icon)}}function d(t,n){if(1&t){const t=l.Wb();l.Vb(0,"div",12),l.cc("click",function(){l.sc(t);const n=l.ec().$implicit;return l.ec().onClick(n)}),l.yc(1,h,2,1,"div",13),l.yc(2,C,1,1,"i",14),l.Ub()}if(2&t){const t=l.ec().$implicit;l.Gb("button flex-row align-center justify-center button-type-",t.type," button-",t.value,""),l.Cb(1),l.kc("ngIf",t.label),l.Cb(1),l.kc("ngIf",t.icon)}}function f(t,n){if(1&t&&(l.Tb(0),l.yc(1,g,5,8,"div",8),l.yc(2,d,3,6,"ng-template",null,9,l.zc),l.Sb()),2&t){const t=n.$implicit,e=l.qc(3);l.Cb(1),l.kc("ngIf","C"==t.label)("ngIfElse",e)}}let M=(()=>{class t{constructor(t,n,e){this.EAS=t,this.EMS=n,this.modalSrv=e,this.menu=[{name:"\u5173\u4e8e",children:[{name:"\u5173\u4e8eNeumorphism\u8f7b\u62df\u7269\u8bbe\u8ba1",click:()=>{this.EAS.launch("hydrogenBrowser",{src:"http://www.woshipm.com/it/3775117.html"})}}]}],this.titleBarConfig={background:"#eaecf4"},this.display=["0","",""],this.input="0",this.result=null,this.confirmAC=!1,this.buttonList=[{label:"C",type:"function",value:"clear"},{label:"\xf7",type:"function",value:"divided"},{label:"x",type:"function",value:"times"},{label:"-",type:"function",value:"minus"},{label:"7",type:"number",value:"7"},{label:"8",type:"number",value:"8"},{label:"9",type:"number",value:"9"},{label:"+",type:"function",value:"plus"},{label:"4",type:"number",value:"4"},{label:"5",type:"number",value:"5"},{label:"6",type:"number",value:"6"},{label:"1",type:"number",value:"1"},{label:"2",type:"number",value:"2"},{label:"3",type:"number",value:"3"},{label:"=",type:"function",value:"equal"},{label:"0",type:"number",value:"0"},{label:".",type:"number",value:"."}],this.EAS.setAppActionBarMenu("calculator",this.menu)}ngOnInit(){}clear(){const t=this.display[1]?2:0;if(String(this.display[t]).length>1){let n=String(this.display[t]).substring(0,String(this.display[t]).length-1);this.display[t]=this.input=n}else this.display[t]=this.input="0";this.result=null,this.confirmAC=!1}allClear(t){!t||this.confirmAC?(this.confirmAC=!1,this.display=["0","",""],this.result=null,this.input="0"):this.confirmAC=!0}onClick(t){const n=this.display[1]?2:0;if("equal"!=t.value)"number"==t.type?this.display[n]=this.input=this.formatValueInput(`${this.display[n]}${t.value}`):"function"==t.type&&(this.result?this.display[0]=this.input=String(this.result):Object(o.r)(this.display[2])&&this.calculate(),this.display[1]=t.label),this.result=null,this.confirmAC=!1;else{if(!this.display[1]||!Object(o.r)(this.display[2]))return;this.calculate()}}formatValueInput(t){return t.length>1&&"0"==t[0]&&-1==t.indexOf(".")&&(t=t.substring(1,t.length)),t}calculate(){switch(this.display[1]){case"\xf7":if(0==Number(this.display[2]))return void this.modalSrv.confirm({title:"\u8ba1\u7b97\u9519\u8bef",content:"0\u4e0d\u80fd\u505a\u9664\u6570",cancelText:"\u5173\u95ed",confirmText:"\u4e3a\u4ec0\u4e48\uff1f",confirmAction:()=>{this.EAS.launch("hydrogenBrowser",{src:"https://www.bilibili.com/video/BV1GJ411x7h7"})}});this.result=this.processResult(function(t,n){var e=0,c=0;try{e=t.toString().split(".")[1].length}catch(o){}try{c=n.toString().split(".")[1].length}catch(o){}return Number(t.toString().replace(".",""))/Number(n.toString().replace(".",""))*Math.pow(10,c-e)}(Number(this.display[0]),Number(this.display[2])));break;case"x":this.result=this.processResult(function(t,n){var e=0,c=t.toString(),o=n.toString();try{e+=c.split(".")[1].length}catch(l){}try{e+=o.split(".")[1].length}catch(l){}return Number(c.replace(".",""))*Number(o.replace(".",""))/Math.pow(10,e)}(Number(this.display[0]),Number(this.display[2])));break;case"-":this.result=this.processResult(function(t,n){var e,c,o;try{e=t.toString().split(".")[1].length}catch(l){e=0}try{c=n.toString().split(".")[1].length}catch(l){c=0}return o=Math.pow(10,Math.max(e,c)),Number(((t*o-n*o)/o).toFixed(e>=c?e:c))}(Number(this.display[0]),Number(this.display[2])));break;case"+":this.result=this.processResult(function(t,n){var e,c,o,l;try{e=t.toString().split(".")[1].length}catch(r){e=0}try{c=n.toString().split(".")[1].length}catch(r){c=0}if(l=Math.abs(e-c),o=Math.pow(10,Math.max(e,c)),l>0){var i=Math.pow(10,l);e>c?(t=Number(t.toString().replace(".","")),n=Number(n.toString().replace(".",""))*i):(t=Number(t.toString().replace(".",""))*i,n=Number(n.toString().replace(".","")))}else t=Number(t.toString().replace(".","")),n=Number(n.toString().replace(".",""));return(t+n)/o}(Number(this.display[0]),Number(this.display[2])))}this.input=String(this.result),this.display=[this.input,"",""]}processResult(t){return Number(t.toFixed(10))}onMousedown(t){2==t.button&&this.EMS.create({menu:[{name:"\u6e05\u7a7a\u6240\u6709\u8ba1\u7b97",click:()=>{this.allClear()}}]},[t.x,t.y])}}return t.\u0275fac=function(n){return new(n||t)(l.Pb(i.a),l.Pb(r.a),l.Pb(a.a))},t.\u0275cmp=l.Jb({type:t,selectors:[["ng-component"]],decls:11,vars:6,consts:[[3,"titleBarConfig"],[1,"calculator","flex-column","justify-center","align-center","full-parent",3,"mouseup"],[1,"wrapper","full-parent","p-xl"],[1,"input-block","pt-xl","pb-xxl"],[1,"line","mb-sm"],[1,"result"],[1,"button-block"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["regular",""],[1,"sub-button","button-AC",3,"ngClass","click"],[1,"sub-button","button-C",3,"click"],[3,"click"],["class","label",4,"ngIf"],["class","icon","e-icon","",3,"icon",4,"ngIf"],[1,"label"],["e-icon","",1,"icon",3,"icon"]],template:function(t,n){1&t&&(l.Vb(0,"e-app",0),l.Vb(1,"div",1),l.cc("mouseup",function(t){return n.onMousedown(t)}),l.Vb(2,"div",2),l.Vb(3,"div",3),l.Vb(4,"div",4),l.Ac(5),l.Ub(),l.Vb(6,"h1",5),l.Vb(7,"b"),l.Ac(8),l.Ub(),l.Ub(),l.Ub(),l.Vb(9,"div",6),l.yc(10,f,4,2,"ng-container",7),l.Ub(),l.Ub(),l.Ub(),l.Ub()),2&t&&(l.kc("titleBarConfig",n.titleBarConfig),l.Cb(5),l.Dc("",n.display[0],"",n.display[1],"",n.display[2],""),l.Cb(3),l.Bc(n.result||n.input),l.Cb(2),l.kc("ngForOf",n.buttonList))},directives:[u.a,s.i,s.j,s.h,b.a],styles:[".calculator[_ngcontent-%COMP%]{background-color:#eaecf4}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]{max-width:354px;max-height:566px}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{opacity:.6}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%], .calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%], .calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .input-block[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{text-align:right;overflow:hidden;text-overflow:ellipsis;max-width:100%;white-space:nowrap;box-sizing:border-box;word-break:break-all;display:block}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{width:100%;display:grid;gap:24px;grid-template-columns:repeat(4,calc((100% - 24px * 3) / 4));grid-template-rows:repeat(5,54px)}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{position:relative;box-shadow:2px 2px 12px #00000029,-2px -2px 4px 2px #fff;border-radius:16px}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:16px;line-height:16px}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active{box-shadow:inset 2px 2px 6px #00000014,inset -2px -2px 4px 2px #fff9}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active   .label[_ngcontent-%COMP%], .calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:active   .sub-button[_ngcontent-%COMP%]{transform:translate(1px,1px)}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.button-type-function[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{transform:translate(-1px,-1px)}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.button-type-function[_ngcontent-%COMP%]:active   .label[_ngcontent-%COMP%]{transform:translate(0)}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.button-plus[_ngcontent-%COMP%]{grid-column-start:4;grid-column-end:5;grid-row-start:2;grid-row-end:4}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.button-0[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:3;grid-row-start:5;grid-row-end:6}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.button-equal[_ngcontent-%COMP%]{grid-column-start:4;grid-column-end:5;grid-row-start:4;grid-row-end:6;background-color:#ffc400}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.sub-button-block[_ngcontent-%COMP%]{padding:2px 4px 0;overflow:hidden}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.sub-button-block[_ngcontent-%COMP%]   .sub-button[_ngcontent-%COMP%]{padding-left:12px;border-radius:14px 14px 6px 6px}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.sub-button-block[_ngcontent-%COMP%]   .sub-button.button-AC[_ngcontent-%COMP%]{line-height:24px;font-size:12px;flex-shrink:0;background-color:#ffc400}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.sub-button-block[_ngcontent-%COMP%]   .sub-button.button-AC.confirm-ac[_ngcontent-%COMP%]{padding-left:9px;color:#fff;background-color:#de350b}.calculator[_ngcontent-%COMP%]   .wrapper[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.sub-button-block[_ngcontent-%COMP%]   .sub-button.button-C[_ngcontent-%COMP%]{height:100%;line-height:24px}"]}),t})(),m=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=l.Nb({type:t}),t.\u0275inj=l.Mb({imports:[[c.a]]}),t})()}}]);