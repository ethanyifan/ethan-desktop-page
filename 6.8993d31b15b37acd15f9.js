(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{zMu1:function(t,e,n){"use strict";n.r(e),n.d(e,"RunningAppsApp",function(){return Q}),n.d(e,"RunningAppsModule",function(){return _});var i=n("eTvV"),c=n("PU+l"),s=n("PCNd"),r=n("ofXK"),o=n("fXoL");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({providers:[],imports:[[r.b]]}),t})();var l=n("Axuq"),g=n("YLzM"),b=n("D8zh");const u=function(t){return{bottom:t}};function f(t,e){if(1&t&&(o.Vb(0,"div",3),o.Qb(1,"div",4),o.Ub()),2&t){const t=e.$implicit;o.kc("ngStyle",t.style),o.Cb(1),o.kc("ngStyle",o.mc(2,u,t.yValue))}}const h=function(t,e,n){return{"justify-start":t,"justify-center":e,"justify-end":n}};function d(t,e){if(1&t&&(o.Vb(0,"div",1),o.xc(1,f,2,4,"div",2),o.Ub()),2&t){const t=o.ec();o.kc("ngClass",o.oc(2,h,"start"==t.config.blockConfig.align,"center"==t.config.blockConfig.align,"end"==t.config.blockConfig.align)),o.Cb(1),o.kc("ngForOf",t.processedData)}}let p=(()=>{class t{constructor(){}ngOnInit(){}ngOnChanges(){this.processData(),this.setMaxYValue()}refresh(){this.setMaxYValue(),this.processData()}setMaxYValue(){if(this.config.blockConfig.maxYValue)return;let t=0;this.config.data.map(e=>{e.yValue>t&&(t=e.yValue)}),this.maxYValue=t}processData(){const t=this.config.blockConfig.maxYValue||this.maxYValue;let e=[];this.config.data.map(n=>{let i={height:100*n.yValue/t+"%"};e.push(Object.assign(Object.assign({},n),{style:i}))}),this.processedData=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["e-chart-block"]],inputs:{config:"config"},features:[o.Ab],decls:1,vars:1,consts:[["class","e-chart-block full-parent flex-row align-end",3,"ngClass",4,"ngIf"],[1,"e-chart-block","full-parent","flex-row","align-end",3,"ngClass"],["class","data-item flex-column align-center",3,"ngStyle",4,"ngFor","ngForOf"],[1,"data-item","flex-column","align-center",3,"ngStyle"],[1,"dot",3,"ngStyle"]],template:function(t,e){1&t&&o.xc(0,d,2,6,"div",0),2&t&&o.kc("ngIf",e.processedData)},directives:[r.j,r.h,r.i,r.k],styles:[".e-chart-block[_ngcontent-%COMP%]{border:1px solid #0052cc;background-image:linear-gradient(90deg,#0052cc29 1px,#0000 0),linear-gradient(0,#0052cc29 1px,#0000 0);background-size:50px 50px,14px 14px;overflow:hidden}.e-chart-block.justify-center[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{flex:1}.e-chart-block[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{width:10px;flex-shrink:0;border-top:1px solid #0052cc;position:relative;background-color:#0052cc33}.e-chart-block[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]:first-child{border-left:1px solid #0052cc}"]}),t})();function m(t,e){if(1&t&&o.Qb(0,"e-chart-block",4,5),2&t){const t=o.ec(2);o.kc("config",t.config)}}const C=function(t,e){return{width:t,height:e}};function k(t,e){if(1&t&&(o.Vb(0,"div",1,2),o.xc(2,m,2,1,"e-chart-block",3),o.Ub()),2&t){const t=o.ec();o.kc("ngSwitch",t.config.widget)("ngStyle",o.nc(3,C,t.config.width,t.config.height)),o.Cb(2),o.kc("ngSwitchCase","block")}}let y=(()=>{class t{constructor(){this.defaultConfig={width:"100%",height:"300px",widget:"block",blockConfig:{align:"center"},data:[]}}ngOnInit(){}ngOnChanges(){this.processConfig()}refresh(){this.processConfig()}processConfig(){this.config&&(this.config=Object.assign(Object.assign({},this.defaultConfig),this.config)),this.eChartChildren&&this.eChartChildren._results.map(t=>{t.refresh()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["e-chart"]],viewQuery:function(t,e){if(1&t&&o.Cc(p,1),2&t){let t;o.pc(t=o.dc())&&(e.eChartChildren=t)}},inputs:{config:"config"},features:[o.Ab],decls:1,vars:1,consts:[["class","e-chart",3,"ngSwitch","ngStyle",4,"ngIf"],[1,"e-chart",3,"ngSwitch","ngStyle"],["eChart",""],[3,"config",4,"ngSwitchCase"],[3,"config"],["eChartLine",""]],template:function(t,e){1&t&&o.xc(0,k,3,6,"div",0),2&t&&o.kc("ngIf",e.config)},directives:[r.j,r.l,r.k,r.m,p],styles:[""]}),t})();var v=n("nd0x");const x=function(t,e,n){return{"my-sm":t,"my-md":e,"my-lg":n}};let w=(()=>{class t{constructor(){this.direction="horizontal",this.margin="medium",this.defaultStyle={horizontal:{width:"100%",height:"1px"},vertical:{width:"1px",height:"100%"}}}get sizeStyle(){let t=Object(v.c)(this.defaultStyle[this.direction]),e=Object(v.c)(this.size);return e&&(Object(v.k)(e.width)&&(e.width=Object(v.f)(e.width)),Object(v.k)(e.height)&&(e.height=Object(v.f)(e.height)),t=Object.assign(Object.assign({},t),this.size)),t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["e-divider"]],inputs:{direction:"direction",margin:"margin",size:"size"},decls:1,vars:9,consts:[[3,"ngClass","ngStyle"]],template:function(t,e){1&t&&o.Qb(0,"div",0),2&t&&(o.Fb("e-divider ",e.direction,""),o.kc("ngClass",o.oc(5,x,"small"==e.margin,"medium"==e.margin,"large"==e.margin))("ngStyle",e.sizeStyle))},directives:[r.h,r.k],styles:[".e-divider[_ngcontent-%COMP%]{background-color:#00000014}"]}),t})();var V=n("AO/J"),A=n("Pt4E");let O=(()=>{class t{constructor(){this.text="\u6682\u65e0\u6570\u636e"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Jb({type:t,selectors:[["e-empty"]],inputs:{text:"text"},decls:4,vars:1,consts:[[1,"e-empty","full-parent","flex-column","align-center","justify-center"],["src",""]],template:function(t,e){1&t&&(o.Vb(0,"div",0),o.Qb(1,"e-image",1),o.Vb(2,"div"),o.zc(3),o.Ub(),o.Ub()),2&t&&(o.Cb(3),o.Ac(e.text))},directives:[A.a],styles:[""]}),t})();const S=["eChart"];function z(t,e){if(1&t){const t=o.Wb();o.Vb(0,"button",11),o.cc("click",function(){return o.sc(t),o.ec().closeAll()}),o.zc(1,"\u5168\u90e8\u5173\u95ed"),o.Ub()}}function U(t,e){if(1&t){const t=o.Wb();o.Vb(0,"button",11),o.cc("click",function(){return o.sc(t),o.ec().EAS.closeApp()}),o.zc(1,"\u5168\u90e8\u5173\u95ed"),o.Ub()}}function j(t,e){1&t&&o.Qb(0,"e-empty")}function I(t,e){if(1&t){const t=o.Wb();o.Vb(0,"div",12),o.Qb(1,"e-image",13),o.Vb(2,"div",14),o.zc(3),o.Ub(),o.Vb(4,"button",15),o.cc("click",function(){o.sc(t);const n=e.$implicit;return o.ec().EAS.closeApp(n.id)}),o.zc(5,"\u5173\u95ed"),o.Ub(),o.Ub()}if(2&t){const t=e.$implicit;o.Cb(1),o.kc("src",t.icon),o.Cb(2),o.Ac(t.name)}}function M(t,e){1&t&&o.Qb(0,"e-empty")}function P(t,e){if(1&t){const t=o.Wb();o.Vb(0,"div",12),o.Qb(1,"e-image",13),o.Vb(2,"div",14),o.zc(3),o.Ub(),o.Vb(4,"button",15),o.cc("click",function(){o.sc(t);const n=e.$implicit;return o.ec().EAS.launch(n.id)}),o.zc(5,"\u8fd0\u884c"),o.Ub(),o.Ub()}if(2&t){const t=e.$implicit;o.Cb(1),o.kc("src",t.icon),o.Cb(2),o.Ac(t.name)}}let Q=(()=>{class t{constructor(t){this.EAS=t,this.menu=[{name:"\u8fdb\u7a0b\u7ba1\u7406",items:[{name:"\u6700\u5c0f\u5316\u6240\u6709App",click:()=>{this.EAS.viewDesktop()}},{name:"\u5173\u95ed\u6240\u6709App",click:()=>{this.EAS.closeApp()}}]}],this.memoryChart={widget:"block",height:"112px",blockConfig:{align:"end"},data:[]},this.EAS.setAppActionBarMenu("runningApps",this.menu)}get runningApps(){return this.EAS.appsInArray.filter(t=>"closed"!=t.status&&"runningApps"!=t.id)}get closedApps(){return this.EAS.appsInArray.filter(t=>"closed"==t.status)}ngOnInit(){this.memoryRefreshInterval=setInterval(()=>{const{usedJSHeapSize:t,totalJSHeapSize:e}=window.performance.memory;this.memoryChart.blockConfig.maxYValue=this.bitToMege(e),this.memoryChart.data.push({xLabel:"",yValue:this.bitToMege(t)}),this.eChart.refresh()},1e3)}ngOnDestroy(){this.memoryRefreshInterval&&(clearInterval(this.memoryRefreshInterval),this.memoryRefreshInterval=null)}bitToMege(t){return t?Number((t/1e6).toFixed(4)):0}}return t.\u0275fac=function(e){return new(e||t)(o.Pb(g.a))},t.\u0275cmp=o.Jb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&o.Cc(S,1),2&t){let t;o.pc(t=o.dc())&&(e.eChart=t.first)}},decls:27,vars:7,consts:[[1,"running-apps","p-md"],[1,"memory-block","mb-lg"],[1,"title-block","flex-row","justify-between"],[1,"title","mb-md"],["size","small","e-button","",3,"click",4,"ngIf"],[3,"config"],["eChart",""],[1,"running-block","mb-lg"],[4,"ngIf"],["class","running-item flex-row align-center mb-md",4,"ngFor","ngForOf"],[1,"closed-block"],["size","small","e-button","",3,"click"],[1,"running-item","flex-row","align-center","mb-md"],["border","","size","small","shape","square",1,"icon","mr-md",3,"src"],[1,"name"],["size","small","e-button","",1,"button",3,"click"]],template:function(t,e){1&t&&(o.Vb(0,"e-app"),o.Vb(1,"div",0),o.Vb(2,"div",1),o.Vb(3,"div",2),o.Vb(4,"b",3),o.Vb(5,"h2"),o.zc(6,"\u8d44\u6e90\u5360\u7528\u60c5\u51b5"),o.Ub(),o.Ub(),o.xc(7,z,2,0,"button",4),o.Ub(),o.Qb(8,"e-chart",5,6),o.Ub(),o.Qb(10,"e-divider"),o.Vb(11,"div",7),o.Vb(12,"div",2),o.Vb(13,"b",3),o.Vb(14,"h2"),o.zc(15,"\u6b63\u5728\u8fd0\u884c"),o.Ub(),o.Ub(),o.xc(16,U,2,0,"button",4),o.Ub(),o.xc(17,j,1,0,"e-empty",8),o.xc(18,I,6,2,"div",9),o.Ub(),o.Qb(19,"e-divider"),o.Vb(20,"div",10),o.Vb(21,"div",2),o.Vb(22,"b",3),o.Vb(23,"h2"),o.zc(24,"\u672a\u8fd0\u884c"),o.Ub(),o.Ub(),o.Ub(),o.xc(25,M,1,0,"e-empty",8),o.xc(26,P,6,2,"div",9),o.Ub(),o.Ub(),o.Ub()),2&t&&(o.Cb(7),o.kc("ngIf",e.runningApps.length),o.Cb(1),o.kc("config",e.memoryChart),o.Cb(8),o.kc("ngIf",e.runningApps.length),o.Cb(1),o.kc("ngIf",!e.runningApps.length),o.Cb(1),o.kc("ngForOf",e.runningApps),o.Cb(7),o.kc("ngIf",!e.closedApps.length),o.Cb(1),o.kc("ngForOf",e.closedApps))},directives:[b.a,r.j,y,w,r.i,V.a,O,A.a],styles:[".running-apps[_ngcontent-%COMP%]   .running-item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:auto}"]}),t})(),_=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=o.Nb({type:t}),t.\u0275inj=o.Mb({imports:[[s.a,c.a,i.a,a,l.a]]}),t})()}}]);