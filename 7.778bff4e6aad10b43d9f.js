(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{zMu1:function(t,e,n){"use strict";n.r(e),n.d(e,"RunningAppsApp",function(){return I}),n.d(e,"RunningAppsModule",function(){return j});var i=n("PCNd"),c=n("fXoL"),s=n("YLzM"),o=n("D8zh"),r=n("ofXK");const a=function(t){return{bottom:t}};function l(t,e){if(1&t&&(c.Vb(0,"div",3),c.Qb(1,"div",4),c.Ub()),2&t){const t=e.$implicit;c.kc("ngStyle",t.style),c.Cb(1),c.kc("ngStyle",c.mc(2,a,t.yValue))}}const g=function(t,e,n){return{"justify-start":t,"justify-center":e,"justify-end":n}};function b(t,e){if(1&t&&(c.Vb(0,"div",1),c.xc(1,l,2,4,"div",2),c.Ub()),2&t){const t=c.ec();c.kc("ngClass",c.oc(2,g,"start"==t.config.blockConfig.align,"center"==t.config.blockConfig.align,"end"==t.config.blockConfig.align)),c.Cb(1),c.kc("ngForOf",t.processedData)}}let f=(()=>{class t{constructor(){}ngOnInit(){}ngOnChanges(){this.processData(),this.setMaxYValue()}refresh(){this.setMaxYValue(),this.processData()}setMaxYValue(){if(this.config.blockConfig.maxYValue)return;let t=0;this.config.data.map(e=>{e.yValue>t&&(t=e.yValue)}),this.maxYValue=t}processData(){const t=this.config.blockConfig.maxYValue||this.maxYValue;let e=[];this.config.data.map(n=>{let i={height:100*n.yValue/t+"%"};e.push(Object.assign(Object.assign({},n),{style:i}))}),this.processedData=e}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Jb({type:t,selectors:[["e-chart-block"]],inputs:{config:"config"},features:[c.Ab],decls:1,vars:1,consts:[["class","e-chart-block full-parent flex-row align-end",3,"ngClass",4,"ngIf"],[1,"e-chart-block","full-parent","flex-row","align-end",3,"ngClass"],["class","data-item flex-column align-center",3,"ngStyle",4,"ngFor","ngForOf"],[1,"data-item","flex-column","align-center",3,"ngStyle"],[1,"dot",3,"ngStyle"]],template:function(t,e){1&t&&c.xc(0,b,2,6,"div",0),2&t&&c.kc("ngIf",e.processedData)},directives:[r.j,r.h,r.i,r.k],styles:[".e-chart-block[_ngcontent-%COMP%]{border:1px solid #0052cc;background-image:linear-gradient(90deg,#0052cc29 1px,#0000 0),linear-gradient(0,#0052cc29 1px,#0000 0);background-size:50px 50px,14px 14px;overflow:hidden}.e-chart-block.justify-center[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{flex:1}.e-chart-block[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]{width:10px;flex-shrink:0;border-top:1px solid #0052cc;position:relative;background-color:#0052cc33}.e-chart-block[_ngcontent-%COMP%]   .data-item[_ngcontent-%COMP%]:first-child{border-left:1px solid #0052cc}"]}),t})();function u(t,e){if(1&t&&c.Qb(0,"e-chart-block",4,5),2&t){const t=c.ec(2);c.kc("config",t.config)}}const h=function(t,e){return{width:t,height:e}};function d(t,e){if(1&t&&(c.Vb(0,"div",1,2),c.xc(2,u,2,1,"e-chart-block",3),c.Ub()),2&t){const t=c.ec();c.kc("ngSwitch",t.config.widget)("ngStyle",c.nc(3,h,t.config.width,t.config.height)),c.Cb(2),c.kc("ngSwitchCase","block")}}let p=(()=>{class t{constructor(){this.defaultConfig={width:"100%",height:"300px",widget:"block",blockConfig:{align:"center"},data:[]}}ngOnInit(){}ngOnChanges(){this.processConfig()}refresh(){this.processConfig()}processConfig(){this.config&&(this.config=Object.assign(Object.assign({},this.defaultConfig),this.config)),this.eChartChildren&&this.eChartChildren._results.map(t=>{t.refresh()})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Jb({type:t,selectors:[["e-chart"]],viewQuery:function(t,e){if(1&t&&c.Cc(f,1),2&t){let t;c.pc(t=c.dc())&&(e.eChartChildren=t)}},inputs:{config:"config"},features:[c.Ab],decls:1,vars:1,consts:[["class","e-chart",3,"ngSwitch","ngStyle",4,"ngIf"],[1,"e-chart",3,"ngSwitch","ngStyle"],["eChart",""],[3,"config",4,"ngSwitchCase"],[3,"config"],["eChartLine",""]],template:function(t,e){1&t&&c.xc(0,d,3,6,"div",0),2&t&&c.kc("ngIf",e.config)},directives:[r.j,r.l,r.k,r.m,f],styles:[""]}),t})();var m=n("nd0x");const C=function(t,e,n){return{"my-sm":t,"my-md":e,"my-lg":n}};let k=(()=>{class t{constructor(){this.direction="horizontal",this.margin="medium",this.defaultStyle={horizontal:{width:"100%",height:"1px"},vertical:{width:"1px",height:"100%"}}}get sizeStyle(){let t=Object(m.c)(this.defaultStyle[this.direction]),e=Object(m.c)(this.size);return e&&(Object(m.k)(e.width)&&(e.width=Object(m.f)(e.width)),Object(m.k)(e.height)&&(e.height=Object(m.f)(e.height)),t=Object.assign(Object.assign({},t),this.size)),t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Jb({type:t,selectors:[["e-divider"]],inputs:{direction:"direction",margin:"margin",size:"size"},decls:1,vars:9,consts:[[3,"ngClass","ngStyle"]],template:function(t,e){1&t&&c.Qb(0,"div",0),2&t&&(c.Fb("e-divider ",e.direction,""),c.kc("ngClass",c.oc(5,C,"small"==e.margin,"medium"==e.margin,"large"==e.margin))("ngStyle",e.sizeStyle))},directives:[r.h,r.k],styles:[".e-divider[_ngcontent-%COMP%]{background-color:#00000014}"]}),t})();var y=n("AO/J"),v=n("7NfB");let x=(()=>{class t{constructor(){this.text="\u6682\u65e0\u6570\u636e"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Jb({type:t,selectors:[["e-empty"]],inputs:{text:"text"},decls:4,vars:1,consts:[[1,"e-empty","full-parent","flex-column","align-center","justify-center"],["e-icon","","icon","accessible_forward","size","large",1,"mb-sm"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Qb(1,"i",1),c.Vb(2,"div"),c.zc(3),c.Ub(),c.Ub()),2&t&&(c.Cb(3),c.Ac(e.text))},directives:[v.a],styles:[".e-empty[_ngcontent-%COMP%]{opacity:.5}.e-empty[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{font-size:14px}"]}),t})();var w=n("Pt4E");const A=["eChart"];function O(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",11),c.cc("click",function(){return c.sc(t),c.ec().closeAll()}),c.zc(1,"\u5168\u90e8\u5173\u95ed"),c.Ub()}}function V(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",11),c.cc("click",function(){return c.sc(t),c.ec().EAS.closeApp()}),c.zc(1,"\u5168\u90e8\u5173\u95ed"),c.Ub()}}function S(t,e){1&t&&c.Qb(0,"e-empty",12)}function z(t,e){if(1&t){const t=c.Wb();c.Vb(0,"div",13),c.Qb(1,"e-image",14),c.Vb(2,"div",15),c.zc(3),c.Ub(),c.Vb(4,"button",16),c.cc("click",function(){c.sc(t);const n=e.$implicit;return c.ec().EAS.closeApp(n.id)}),c.zc(5,"\u5173\u95ed"),c.Ub(),c.Ub()}if(2&t){const t=e.$implicit;c.Cb(1),c.kc("src",t.icon),c.Cb(2),c.Ac(t.name)}}function U(t,e){if(1&t){const t=c.Wb();c.Vb(0,"div",13),c.Qb(1,"e-image",14),c.Vb(2,"div",15),c.zc(3),c.Ub(),c.Vb(4,"button",16),c.cc("click",function(){c.sc(t);const n=e.$implicit;return c.ec(2).EAS.launch(n.id)}),c.zc(5,"\u8fd0\u884c"),c.Ub(),c.Ub()}if(2&t){const t=e.$implicit;c.Cb(1),c.kc("src",t.icon),c.Cb(2),c.Ac(t.name)}}function M(t,e){if(1&t&&(c.Tb(0),c.Qb(1,"e-divider"),c.Vb(2,"div",17),c.Vb(3,"div",2),c.Vb(4,"b",3),c.Vb(5,"h2"),c.zc(6,"\u672a\u8fd0\u884c"),c.Ub(),c.Ub(),c.Ub(),c.xc(7,U,6,2,"div",9),c.Ub(),c.Sb()),2&t){const t=c.ec();c.Cb(7),c.kc("ngForOf",t.closedApps)}}let I=(()=>{class t{constructor(t){this.EAS=t,this.menu=[{name:"\u8fdb\u7a0b\u7ba1\u7406",items:[{name:"\u6700\u5c0f\u5316\u6240\u6709App",click:()=>{this.EAS.viewDesktop()}},{name:"\u5173\u95ed\u6240\u6709App",click:()=>{this.EAS.closeApp()}}]}],this.memoryChart={widget:"block",height:"112px",blockConfig:{align:"end"},data:[]},this.EAS.setAppActionBarMenu("runningApps",this.menu)}get runningApps(){return this.EAS.appsInArray.filter(t=>"closed"!=t.status&&"runningApps"!=t.id)}get closedApps(){return this.EAS.appsInArray.filter(t=>"closed"==t.status)}ngOnInit(){this.memoryRefreshInterval=setInterval(()=>{const{usedJSHeapSize:t,totalJSHeapSize:e}=window.performance.memory;this.memoryChart.blockConfig.maxYValue=this.bitToMege(e),this.memoryChart.data.push({xLabel:"",yValue:this.bitToMege(t)}),this.eChart.refresh()},1e3)}ngOnDestroy(){this.memoryRefreshInterval&&(clearInterval(this.memoryRefreshInterval),this.memoryRefreshInterval=null)}bitToMege(t){return t?Number((t/1e6).toFixed(4)):0}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(s.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["ng-component"]],viewQuery:function(t,e){if(1&t&&c.Cc(A,1),2&t){let t;c.pc(t=c.dc())&&(e.eChart=t.first)}},decls:20,vars:6,consts:[[1,"running-apps","p-md"],[1,"memory-block","mb-lg"],[1,"title-block","flex-row","justify-between"],[1,"title","mb-md"],["size","small","e-button","",3,"click",4,"ngIf"],[3,"config"],["eChart",""],[1,"running-block","mb-lg"],["text","\u65e0\u6b63\u5728\u8fd0\u884c\u7684App",4,"ngIf"],["class","running-item flex-row align-center mb-md",4,"ngFor","ngForOf"],[4,"ngIf"],["size","small","e-button","",3,"click"],["text","\u65e0\u6b63\u5728\u8fd0\u884c\u7684App"],[1,"running-item","flex-row","align-center","mb-md"],["border","","size","small","shape","square",1,"icon","mr-md",3,"src"],[1,"name"],["size","small","e-button","",1,"button",3,"click"],[1,"closed-block"]],template:function(t,e){1&t&&(c.Vb(0,"e-app"),c.Vb(1,"div",0),c.Vb(2,"div",1),c.Vb(3,"div",2),c.Vb(4,"b",3),c.Vb(5,"h2"),c.zc(6,"\u8d44\u6e90\u5360\u7528\u60c5\u51b5"),c.Ub(),c.Ub(),c.xc(7,O,2,0,"button",4),c.Ub(),c.Qb(8,"e-chart",5,6),c.Ub(),c.Qb(10,"e-divider"),c.Vb(11,"div",7),c.Vb(12,"div",2),c.Vb(13,"b",3),c.Vb(14,"h2"),c.zc(15,"\u6b63\u5728\u8fd0\u884c"),c.Ub(),c.Ub(),c.xc(16,V,2,0,"button",4),c.Ub(),c.xc(17,S,1,0,"e-empty",8),c.xc(18,z,6,2,"div",9),c.Ub(),c.xc(19,M,8,1,"ng-container",10),c.Ub(),c.Ub()),2&t&&(c.Cb(7),c.kc("ngIf",e.runningApps.length),c.Cb(1),c.kc("config",e.memoryChart),c.Cb(8),c.kc("ngIf",e.runningApps.length),c.Cb(1),c.kc("ngIf",!e.runningApps.length),c.Cb(1),c.kc("ngForOf",e.runningApps),c.Cb(1),c.kc("ngIf",e.closedApps.length))},directives:[o.a,r.j,p,k,r.i,y.a,x,w.a],styles:[".running-apps[_ngcontent-%COMP%]   .running-item[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:auto}"]}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({imports:[[i.a]]}),t})()}}]);